<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2020" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2020" />
<meta name="DC.Type" content="reference" />
<meta name="DC.Title" content="CPXXgetcallbacksosinfo and CPXgetcallbacksosinfo" />
<meta name="abstract" content="The routine CPXXgetcallbacksosinfo/CPXgetcallbacksosinfo accesses information about special ordered sets (SOSs) during MIP optimization from within user-written callbacks." />
<meta name="Description" content="The routine CPXXgetcallbacksosinfo/CPXgetcallbacksosinfo accesses information about special ordered sets (SOSs) during MIP optimization from within user-written callbacks." />
<meta name="DC.subject" content="CPXgetcallbacksosinfo, C API Reference Manual, CPXXgetcallbacksosinfo" />
<meta name="keywords" content="CPXgetcallbacksosinfo, C API Reference Manual, CPXXgetcallbacksosinfo" />
<meta name="DC.Relation" scheme="URI" content="../../refcallablelibrary/groups/hpAlphabetG.html" />
<meta name="DC.Relation" scheme="URI" content="../../refcallablelibrary/groups/homepageadvanced.html" />
<meta name="DC.Relation" scheme="URI" content="../../refcallablelibrary/groups/homepagebasiccallbacks.html" />
<meta name="DC.Relation" scheme="URI" content="../../refcallablelibrary/groups/homepageadvanced.callbacks.html" />
<meta name="DC.Relation" scheme="URI" content="../../refcallablelibrary/groups/homepagemanagesos.html" />
<meta name="DC.Relation" scheme="URI" content="../../refcallablelibrary/mipapi/hpMIPcallbacks.html" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="getcallbacksosinfo" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../swg_info_common_opti.css" />
<link rel="Start" href="../../refcallablelibrary/groups/hpAlphabetG.html" />
<link rel="Start" href="../../refcallablelibrary/groups/homepageadvanced.html" />
<link rel="Start" href="../../refcallablelibrary/groups/homepagebasiccallbacks.html" />
<link rel="Start" href="../../refcallablelibrary/groups/homepageadvanced.callbacks.html" />
<link rel="Start" href="../../refcallablelibrary/groups/homepagemanagesos.html" />
<link rel="Start" href="../../refcallablelibrary/mipapi/hpMIPcallbacks.html" />
<title>CPXXgetcallbacksosinfo and CPXgetcallbacksosinfo</title>
</head>
<body id="getcallbacksosinfo"><div role="main">

  <h1 class="title topictitle1" id="ariaid-title1"><span class="keyword apiname">CPXXgetcallbacksosinfo</span> and <span class="keyword apiname">CPXgetcallbacksosinfo</span></h1>


  

  

  <div class="body refbody"><p class="shortdesc">
     
 

 

 The routine <code class="ph codeph"><span class="keyword apiname">CPXXgetcallbacksosinfo</span>/<span class="keyword apiname">CPXgetcallbacksosinfo</span></code> accesses information
 about special ordered sets (SOSs) during MIP optimization from within
 user-written callbacks.
  </p>


    <section class="section refsyn">
      <p class="p"><span class="ph synph">
        <span class="keyword kwd">int</span>
        <span class="ph sep"> </span><span class="keyword kwd">CPXXgetcallbacksosinfo</span><span class="ph delim">(</span>
          <span class="keyword kwd">CPXCENVptr</span><span class="ph sep"> </span><span class="ph var">env</span><span class="ph delim">,</span>
          <span class="keyword kwd">void *</span><span class="ph sep"> </span><span class="ph var">cbdata</span><span class="ph delim">,</span>
          <span class="keyword kwd">int</span><span class="ph sep"> </span><span class="ph var">wherefrom</span><span class="ph delim">,</span>
          <span class="keyword kwd">CPXDIM</span><span class="ph sep"> </span><span class="ph var">sosindex</span><span class="ph delim">,</span>
          <span class="keyword kwd">CPXDIM</span><span class="ph sep"> </span><span class="ph var">member</span><span class="ph delim">,</span>
          <span class="keyword kwd">int</span><span class="ph sep"> </span><span class="ph var">whichinfo</span><span class="ph delim">,</span>
          <span class="keyword kwd">void *</span><span class="ph sep"> </span><span class="ph var">result_p</span>        <span class="ph delim">)</span>
      </span></p>

      <p class="p"><span class="ph synph">
        <span class="keyword kwd">int</span>
        <span class="ph sep"> </span><span class="keyword kwd">CPXgetcallbacksosinfo</span><span class="ph delim">(</span>
          <span class="keyword kwd">CPXCENVptr</span><span class="ph sep"> </span><span class="ph var">env</span><span class="ph delim">,</span>
          <span class="keyword kwd">void *</span><span class="ph sep"> </span><span class="ph var">cbdata</span><span class="ph delim">,</span>
          <span class="keyword kwd">int</span><span class="ph sep"> </span><span class="ph var">wherefrom</span><span class="ph delim">,</span>
          <span class="keyword kwd">int</span><span class="ph sep"> </span><span class="ph var">sosindex</span><span class="ph delim">,</span>
          <span class="keyword kwd">int</span><span class="ph sep"> </span><span class="ph var">member</span><span class="ph delim">,</span>
          <span class="keyword kwd">int</span><span class="ph sep"> </span><span class="ph var">whichinfo</span><span class="ph delim">,</span>
          <span class="keyword kwd">void *</span><span class="ph sep"> </span><span class="ph var">result_p</span>        <span class="ph delim">)</span>
      </span></p>

    </section>


    <section class="section"><h2 class="title sectiontitle">Description</h2>
    
 
 

 <div class="note warning"><span class="warningtitle">Warning:</span> 
 <p class="p">This is an advanced routine.
 Advanced routines typically demand a thorough understanding
 of the algorithms used by CPLEX. Thus they incur a higher risk of
 incorrect behavior in your application, behavior that can be difficult
 to debug. Therefore, the team encourages you to consider carefully whether
 you can accomplish the same task by means of other Callable Library
 routines instead.
 </p>

 </div>


 <p class="p">The routine <code class="ph codeph"><span class="keyword apiname">CPXXgetcallbacksosinfo</span>/<span class="keyword apiname">CPXgetcallbacksosinfo</span></code> accesses information
 about special ordered sets (SOSs) during MIP optimization from within
 user-written callbacks. </p>


 <p class="p">The information returned is for the original problem if the 
<a class="xref" href="../../CPLEX/Parameters/topics/MIPCBREDLP.html" title="Controls whether your callback accesses node information of the original model (off) or node information of the reduced, presolved model (on, default).">MIP callback switch between original model and reduced, presolved model</a> 
(<code class="ph codeph">CPXPARAM_MIP_Strategy_CallbackReducedLP</code>) 
 is set to <code class="ph codeph">CPX_OFF</code> before the
 call to <code class="ph codeph"><span class="keyword apiname">CPXXmipopt</span>/<span class="keyword apiname">CPXmipopt</span></code> that calls the callback. Otherwise, it is
 for the presolved problem.</p>


<p class="p">Do not call this routine with 
<code class="ph codeph"><span class="keyword apiname">wherefrom==CPX_CALLBACK_MIP_DELETENODE</span></code>.
Do not call this routine with 
<code class="ph codeph"><span class="keyword apiname">wherefrom==CPX_CALLBACK_MIP_NODE</span></code>.</p>


<div class="note important"><span class="importanttitle">Important:</span>  
<p class="p">Any routine that queries the current LP solution can yield invalid
data when <code class="ph codeph"><span class="keyword apiname">wherefrom==CPX_CALLBACK_MIP</span></code> because in that case, 
the MIP callback is called before the LP relaxation of the current node 
is solved.
</p>

</div>
 

 
    </section>


    
    
    

    
    <section class="section"><h2 class="title sectiontitle">Arguments</h2>
      
    <dl class="dl parml">
      
      
        <dt class="dt pt dlterm">env</dt>

        <dd class="dd pd">
          
          A pointer to the CPLEX environment, as returned by <code class="ph codeph"><span class="keyword apiname">CPXXopenCPLEX</span>/<span class="keyword apiname">CPXopenCPLEX</span></code>.
        </dd>

      

      
      
        <dt class="dt pt dlterm">cbdata</dt>

        <dd class="dd pd">
          
          The pointer passed to the user-written callback. This argument must be the value of <code class="ph codeph"><span class="keyword parmname">cbdata</span></code> passed to the user-written callback.
        </dd>

      

      
      
        <dt class="dt pt dlterm">wherefrom</dt>

        <dd class="dd pd">
          
          An integer value reporting where the user-written callback was called from. This argument must be the value of <code class="ph codeph"><span class="keyword parmname">wherefrom</span></code> passed to the user-written callback.
        </dd>

      

      
      
        <dt class="dt pt dlterm">sosindex</dt>

        <dd class="dd pd">
          
          The index of the special ordered set (SOS) for which information is requested. SOSs are indexed from zero to <code class="ph codeph">(<span class="keyword parmname">numsets</span>-1)</code> where <code class="ph codeph"><span class="keyword parmname">numsets</span></code> is the result of calling this routine with a <code class="ph codeph"><span class="keyword parmname">whichinfo</span></code> value of <code class="ph codeph">CPX_CALLBACK_INFO_SOS_NUM</code>.
        </dd>

      

      
      
        <dt class="dt pt dlterm">member</dt>

        <dd class="dd pd">
          
          The index of the member of the SOS for which information is requested.
        </dd>

      

      
      
        <dt class="dt pt dlterm">whichinfo</dt>

        <dd class="dd pd">
          
          An integer specifying which information is requested. Table 1 summarizes the possible values. Table 2 summarizes possible values returned when the type of information requested is the SOS type (that is, <code class="ph codeph"><span class="keyword parmname">whichinfo</span></code> = <code class="ph codeph">CPX_CALLBACK_INFO_SOS_TYPE</code>).
        </dd>

      

      
      
        <dt class="dt pt dlterm">result_p</dt>

        <dd class="dd pd">
          
          A generic pointer to a variable of type <code class="ph codeph">double</code>, <code class="ph codeph">int</code>, or <code class="ph codeph">char</code>. The variable represents the value returned by <code class="ph codeph"><span class="keyword parmname">whichinfo</span></code>. (The column C Type in the table shows the type of various values returned by <code class="ph codeph"><span class="keyword parmname">whichinfo</span></code>.)
        </dd>

      

    </dl>

  </section>


    
    

    <section class="section"><h2 class="title sectiontitle">Return</h2>
      
      The routine returns 0 (zero) if successful and nonzero if an error occurs. If the return value is nonzero, the requested value may not be available.
    </section>

    <section class="section"><h2 class="title sectiontitle">Example</h2>
      
      
 <pre class="pre codeblock"><code>
 status = CPXgetcallbacksosinfo(env, curlp, wherefrom, 6, 4,
                                CPX_CALLBACK_INFO_SOS_IS_FEASIBLE,
                                &amp;isfeasible);
 </code></pre>

 <p class="p">See also the example <code class="ph codeph">admipex3.c</code> in the standard distribution.</p>


 
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 1. Table 1: Information requested for a user-written SOS callback</span></caption><colgroup></colgroup><thead class="thead" style="text-align:left;">
 <tr class="row"><th class="entry" valign="top" id="d947049e439">Symbolic Constant</th>
<th class="entry" valign="top" id="d947049e441">C Type</th>
<th class="entry" valign="top" id="d947049e443">Meaning</th>
</tr>
</thead>
<tbody class="tbody">
 <tr class="row"><td class="entry" valign="top" headers="d947049e439 "><code class="ph codeph">CPX_CALLBACK_INFO_SOS_NUM</code></td>
<td class="entry" valign="top" headers="d947049e441 "><code class="ph codeph">int</code></td>

 <td class="entry" valign="top" headers="d947049e443 ">number of SOSs</td>
</tr>

 <tr class="row"><td class="entry" valign="top" headers="d947049e439 "><code class="ph codeph">CPX_CALLBACK_INFO_SOS_TYPE</code></td>
<td class="entry" valign="top" headers="d947049e441 "><code class="ph codeph">char</code>
 </td>
<td class="entry" valign="top" headers="d947049e443 ">one of the values in Table 4</td>
</tr>

 <tr class="row"><td class="entry" valign="top" headers="d947049e439 "><code class="ph codeph">CPX_CALLBACK_INFO_SOS_SIZE</code></td>
<td class="entry" valign="top" headers="d947049e441 "><code class="ph codeph">int</code>
 </td>
<td class="entry" valign="top" headers="d947049e443 ">size of SOS</td>
</tr>

 <tr class="row"><td class="entry" valign="top" headers="d947049e439 "><code class="ph codeph">CPX_CALLBACK_INFO_SOS_IS_FEASIBLE</code></td>

 <td class="entry" valign="top" headers="d947049e441 "><code class="ph codeph">int</code></td>

 <td class="entry" valign="top" headers="d947049e443 ">1 if SOS is feasible 0 if SOS is not</td>
</tr>

 <tr class="row"><td class="entry" valign="top" headers="d947049e439 "><code class="ph codeph">CPX_CALLBACK_INFO_SOS_MEMBER_INDEX</code></td>

 <td class="entry" valign="top" headers="d947049e441 "><code class="ph codeph">int</code></td>
<td class="entry" valign="top" headers="d947049e443 ">variable index of member-th member of SOS</td>

 </tr>
<tr class="row"><td class="entry" valign="top" headers="d947049e439 "><code class="ph codeph">CPX_CALLBACK_INFO_SOS_MEMBER_REFVAL</code></td>

 <td class="entry" valign="top" headers="d947049e441 "><code class="ph codeph">double</code></td>

 <td class="entry" valign="top" headers="d947049e443 ">reference value (weight) of this member</td>
</tr>

 </tbody>
</table>
</div>


 
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 2. Table 2: SOS types returned when whichinfo = CPX_CALLBACK_INFO_SOS_TYPE</span></caption><colgroup></colgroup><thead class="thead" style="text-align:left;">
 <tr class="row"><th class="entry" valign="top" id="d947049e525">Symbolic Constant</th>
<th class="entry" valign="top" id="d947049e527">SOS Type</th>
</tr>
</thead>
<tbody class="tbody">
 <tr class="row"><td class="entry" valign="top" headers="d947049e525 "><code class="ph codeph"><span class="keyword apiname">CPX_SOS1</span></code></td>
<td class="entry" valign="top" headers="d947049e527 ">type 1</td>
</tr>

 <tr class="row"><td class="entry" valign="top" headers="d947049e525 "><code class="ph codeph"><span class="keyword apiname">CPX_SOS2</span></code></td>
<td class="entry" valign="top" headers="d947049e527 ">type 2</td>
</tr>

 </tbody>
</table>
</div>



      
    </section>

  </div>

<nav role="navigation" class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../refcallablelibrary/groups/hpAlphabetG.html">G</a></div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../refcallablelibrary/groups/homepageadvanced.html">Advanced Routines in the CPLEX Callable Library (C API)</a></div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../refcallablelibrary/groups/homepagebasiccallbacks.html">Callback Routines (basic) in the CPLEX Callable Library (C API)</a></div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../refcallablelibrary/groups/homepageadvanced.callbacks.html">Callback Routines (advanced) in the CPLEX Callable Library (C API)</a></div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../refcallablelibrary/groups/homepagemanagesos.html">Managing Special Ordered Sets (SOS) in the CPLEX Callable Library (C API)</a></div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../refcallablelibrary/mipapi/hpMIPcallbacks.html">Using callbacks in a discrete model</a></div>
</div>
</nav></div></body>
</html>