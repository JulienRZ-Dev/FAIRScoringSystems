<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2020" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2020" />
<meta name="DC.Type" content="reference" />
<meta name="DC.Title" content="CPXXrefineconflictext and CPXrefineconflictext" />
<meta name="abstract" content="The routine CPXXrefineconflictext/CPXrefineconflictext extends CPXXrefineconflict/CPXrefineconflict to problems with indicator constraints, quadratic constraints (except for explicit second order cone constraints), special ordered sets (SOSs), or piecewise linear constraints and to situations where groups of constraints should be considered as a single constraint." />
<meta name="Description" content="The routine CPXXrefineconflictext/CPXrefineconflictext extends CPXXrefineconflict/CPXrefineconflict to problems with indicator constraints, quadratic constraints (except for explicit second order cone constraints), special ordered sets (SOSs), or piecewise linear constraints and to situations where groups of constraints should be considered as a single constraint." />
<meta name="DC.subject" content="CPXrefineconflictext, C API Reference Manual, CPXXrefineconflictext" />
<meta name="keywords" content="CPXrefineconflictext, C API Reference Manual, CPXXrefineconflictext" />
<meta name="DC.Relation" scheme="URI" content="../../refcallablelibrary/groups/hpAlphabetR.html" />
<meta name="DC.Relation" scheme="URI" content="../../refcallablelibrary/groups/homepageanalyzesolution.html" />
<meta name="DC.Relation" scheme="URI" content="../../refcallablelibrary/groups/homepageanalyzeinfeasibility.html" />
<meta name="DC.Relation" scheme="URI" content="../../refcallablelibrary/cpxapi/hpRefineConflict.html" />
<meta name="DC.Relation" scheme="URI" content="getconflictext.html" />
<meta name="DC.Relation" scheme="URI" content="refineconflict.html" />
<meta name="DC.Relation" scheme="URI" content="clpwrite.html" />
<meta name="DC.Relation" scheme="URI" content="getconflictnumgroups.html" />
<meta name="DC.Relation" scheme="URI" content="getconflictgroups.html" />
<meta name="DC.Relation" scheme="URI" content="getconflictnumpasses.html" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="refineconflictext" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../swg_info_common_opti.css" />
<link rel="Start" href="../../refcallablelibrary/groups/hpAlphabetR.html" />
<link rel="Start" href="../../refcallablelibrary/groups/homepageanalyzesolution.html" />
<link rel="Start" href="../../refcallablelibrary/groups/homepageanalyzeinfeasibility.html" />
<link rel="Start" href="../../refcallablelibrary/cpxapi/hpRefineConflict.html" />
<title>CPXXrefineconflictext and CPXrefineconflictext</title>
</head>
<body id="refineconflictext"><div role="main">

  <h1 class="title topictitle1" id="ariaid-title1"><span class="keyword apiname">CPXXrefineconflictext</span> and <span class="keyword apiname">CPXrefineconflictext</span></h1>


  

  

  <div class="body refbody"><p class="shortdesc">
     


The routine <code class="ph codeph"><span class="keyword apiname">CPXXrefineconflictext</span>/<span class="keyword apiname">CPXrefineconflictext</span></code> extends 
<code class="ph codeph"><span class="keyword apiname">CPXXrefineconflict</span>/<span class="keyword apiname">CPXrefineconflict</span></code> 
to problems with indicator constraints, 
quadratic constraints (except for explicit second order cone constraints), 
special ordered sets (SOSs), or piecewise linear constraints and to 
situations where groups of constraints should be considered 
as a single constraint.
  </p>


    <section class="section refsyn">
      <p class="p"><span class="ph synph">
        <span class="keyword kwd">int</span>
        <span class="ph sep"> </span><span class="keyword kwd">CPXXrefineconflictext</span><span class="ph delim">(</span>
          <span class="keyword kwd">CPXCENVptr</span><span class="ph sep"> </span><span class="ph var">env</span><span class="ph delim">,</span>
          <span class="keyword kwd">CPXLPptr</span><span class="ph sep"> </span><span class="ph var">lp</span><span class="ph delim">,</span>
          <span class="keyword kwd">CPXNNZ</span><span class="ph sep"> </span><span class="ph var">grpcnt</span><span class="ph delim">,</span>
          <span class="keyword kwd">CPXNNZ</span><span class="ph sep"> </span><span class="ph var">concnt</span><span class="ph delim">,</span>
          <span class="keyword kwd">double const *</span><span class="ph sep"> </span><span class="ph var">grppref</span><span class="ph delim">,</span>
          <span class="keyword kwd">CPXNNZ const *</span><span class="ph sep"> </span><span class="ph var">grpbeg</span><span class="ph delim">,</span>
          <span class="keyword kwd">CPXDIM const *</span><span class="ph sep"> </span><span class="ph var">grpind</span><span class="ph delim">,</span>
          <span class="keyword kwd">char const *</span><span class="ph sep"> </span><span class="ph var">grptype</span>        <span class="ph delim">)</span>
      </span></p>

      <p class="p"><span class="ph synph">
        <span class="keyword kwd">int</span>
        <span class="ph sep"> </span><span class="keyword kwd">CPXrefineconflictext</span><span class="ph delim">(</span>
          <span class="keyword kwd">CPXCENVptr</span><span class="ph sep"> </span><span class="ph var">env</span><span class="ph delim">,</span>
          <span class="keyword kwd">CPXLPptr</span><span class="ph sep"> </span><span class="ph var">lp</span><span class="ph delim">,</span>
          <span class="keyword kwd">int</span><span class="ph sep"> </span><span class="ph var">grpcnt</span><span class="ph delim">,</span>
          <span class="keyword kwd">int</span><span class="ph sep"> </span><span class="ph var">concnt</span><span class="ph delim">,</span>
          <span class="keyword kwd">double const *</span><span class="ph sep"> </span><span class="ph var">grppref</span><span class="ph delim">,</span>
          <span class="keyword kwd">int const *</span><span class="ph sep"> </span><span class="ph var">grpbeg</span><span class="ph delim">,</span>
          <span class="keyword kwd">int const *</span><span class="ph sep"> </span><span class="ph var">grpind</span><span class="ph delim">,</span>
          <span class="keyword kwd">char const *</span><span class="ph sep"> </span><span class="ph var">grptype</span>        <span class="ph delim">)</span>
      </span></p>

    </section>


    <section class="section"><h2 class="title sectiontitle">Description</h2>
    
 


<p class="p">The routine <code class="ph codeph"><span class="keyword apiname">CPXXrefineconflictext</span>/<span class="keyword apiname">CPXrefineconflictext</span></code> extends
<code class="ph codeph"><a class="xref" href="refineconflict.html" title="This routine is deprecated. Use CPXXrefineconflictext/CPXrefineconflictext instead."><span class="keyword apiname">CPXXrefineconflict</span>/<span class="keyword apiname">CPXrefineconflict</span></a></code>
to problems with indicator constraints,
quadratic constraints (except for explicit second order cone constraints),
special ordered sets (SOSs), or piecewise linear constraints and to
situations where groups of constraints should be considered
as a single constraint.
The routine <code class="ph codeph"><span class="keyword apiname">CPXXrefineconflictext</span>/<span class="keyword apiname">CPXrefineconflictext</span></code> identifies a minimal
conflict for the infeasibility of the current
problem or a subset of constraints of the current problem.
Since the conflict is minimal, removal of any group of
constraints that is a member of the conflict will remove that
particular source of infeasibility.
However, there may be other conflicts in the problem; consequently,
that repair of one conflict does not guarantee feasibility of the
solution of the remaining problem.
</p>

<p class="p">Constraints are considered in groups in this routine.
If any constraint in a group
participates in the conflict, the entire group is determined to do so.
No further detail about the constraints within that group is returned.
A group may consist of a single constraint.</p>


<p class="p">A group may be assigned a preference; that is, a value specifying
how much the user wants the group to be part of a conflict. A group with a
higher preference is more likely to be included in the conflict. However,
no guarantee is made when a minimal conflict is returned that other
conflicts containing groups with a greater preference do not exist.</p>


<p class="p">To retrieve information about the conflict computed by
<code class="ph codeph"><span class="keyword apiname">CPXXrefineconflictext</span>/<span class="keyword apiname">CPXrefineconflictext</span></code>, call the routine
<code class="ph codeph"><a class="xref" href="getconflictext.html" title="For an infeasible problem, if the infeasibility has been analyzed by CPXXrefineconflictext/CPXrefineconflictext, this routine accesses information about the conflict computed by it."><span class="keyword apiname">CPXXgetconflictext</span>/<span class="keyword apiname">CPXgetconflictext</span></a></code>.
</p>

<p class="p">
To write the conflict to a file,
use the routine <code class="ph codeph"><a class="xref" href="clpwrite.html" title="After CPXXrefineconflict/CPXrefineconflict or CPXXrefineconflictext/CPXrefineconflictext has been invoked on an infeasible problem to identify a minimal set of constraints that are in conflict, this routine will write an LP format file containing the identified conflict."><span class="keyword apiname">CPXXclpwrite</span>/<span class="keyword apiname">CPXclpwrite</span></a></code>.
</p>

<p class="p">If <code class="ph codeph">grpcnt == 0</code>, <code class="ph codeph">concnt == 0</code>,
<code class="ph codeph">grppref == NULL</code>, <code class="ph codeph">grpbeg == NULL</code>,
<code class="ph codeph">grpind == NULL</code>, and <code class="ph codeph">grptype == NULL</code> then constraint groups will be automatically created.
To retrieve information about the constraint groups that were
automatically created as a result of this routine, call the routines
<code class="ph codeph"><a class="xref" href="getconflictnumgroups.html" title="The routine CPXXgetconflictnumgroups/CPXgetconflictnumgroups accesses the number of constraint groups given, or automatically created, in the last call to the routine CPXXrefineconflictext/CPXrefineconflictext."><span class="keyword apiname">CPXXgetconflictnumgroups</span>/<span class="keyword apiname">CPXgetconflictnumgroups</span></a></code>
and
<code class="ph codeph"><a class="xref" href="getconflictgroups.html" title="The routine CPXXgetconflictgroups/CPXgetconflictgroups accesses the constraint group information given in the last call to the routine CPXXrefineconflictext/CPXrefineconflictext."><span class="keyword apiname">CPXXgetconflictgroups</span>/<span class="keyword apiname">CPXgetconflictgroups</span></a></code>.
</p>

<p class="p"> </p>


<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><caption><span class="tablecap">Table 1. Table 1: Possible values for elements of grptype</span></caption><colgroup></colgroup><tbody class="tbody">

<tr class="row"><td class="entry" valign="top"><code class="ph codeph">CPX_CON_LOWER_BOUND</code></td>
<td class="entry" valign="top"><code class="ph codeph">1</code></td>

<td class="entry" valign="top">variable lower bound</td>
</tr>

<tr class="row"><td class="entry" valign="top"><code class="ph codeph">CPX_CON_UPPER_BOUND</code></td>
<td class="entry" valign="top"><code class="ph codeph">2</code></td>

<td class="entry" valign="top">variable upper bound</td>
</tr>

<tr class="row"><td class="entry" valign="top"><code class="ph codeph">CPX_CON_LINEAR</code></td>
<td class="entry" valign="top"><code class="ph codeph">3</code></td>

<td class="entry" valign="top">linear constraint</td>
</tr>

<tr class="row"><td class="entry" valign="top"><code class="ph codeph">CPX_CON_QUADRATIC</code></td>
<td class="entry" valign="top"><code class="ph codeph">4</code></td>

<td class="entry" valign="top">quadratic constraint</td>
</tr>

<tr class="row"><td class="entry" valign="top"><code class="ph codeph">CPX_CON_SOS</code></td>
<td class="entry" valign="top"><code class="ph codeph">5</code></td>

<td class="entry" valign="top">special ordered set</td>
</tr>

<tr class="row"><td class="entry" valign="top"><code class="ph codeph">CPX_CON_INDICATOR</code></td>
<td class="entry" valign="top"><code class="ph codeph">6</code></td>

<td class="entry" valign="top">indicator constraint</td>
</tr>

<tr class="row"><td class="entry" valign="top"><code class="ph codeph">CPX_CON_PWL</code></td>
<td class="entry" valign="top"><code class="ph codeph">7</code></td>

<td class="entry" valign="top">piecewise linear constraint</td>
</tr>

</tbody>
</table>
</div>


<div class="p">
These four parameters do <strong class="ph b">not</strong> influence this routine.
<ul class="ul">
<li class="li">
<a class="xref" href="../../CPLEX/Parameters/topics/CutUp.html" title="Sets the upper cutoff tolerance.">upper cutoff</a>
<code class="ph codeph">CPXPARAM_MIP_Tolerances_UpperCutoff</code>
</li>


<li class="li">
<a class="xref" href="../../CPLEX/Parameters/topics/CutLo.html" title="Sets lower cutoff tolerance.">lower cutoff</a>
<code class="ph codeph">CPXPARAM_MIP_Tolerances_LowerCutoff</code>
</li>


<li class="li">
<a class="xref" href="../../CPLEX/Parameters/topics/ObjULim.html" title="Sets an upper limit on the value of the objective function in the simplex algorithms.">upper objective value limit</a>
<code class="ph codeph">CPXPARAM_Simplex_Limits_UpperObj</code>
</li>


<li class="li">
<a class="xref" href="../../CPLEX/Parameters/topics/ObjLLim.html" title="Sets a lower limit on the value of the objective function in the simplex algorithms.">lower objective value limit</a>
<code class="ph codeph">CPXPARAM_Simplex_Limits_LowerObj</code>
</li>

</ul>

If you want to study infeasibilities introduced by those parameters,
consider adding an objective function constraint to your model to
enforce their effect before you invoke this routine.
</div>



    </section>


    
    
    

    
    <section class="section"><h2 class="title sectiontitle">Arguments</h2>
      
    <dl class="dl parml">
      
      
        <dt class="dt pt dlterm">env</dt>

        <dd class="dd pd">
          
          A pointer to the CPLEX environment as returned by the routine <code class="ph codeph"><span class="keyword apiname">CPXXopenCPLEX</span>/<span class="keyword apiname">CPXopenCPLEX</span></code>.
        </dd>

      

      
      
        <dt class="dt pt dlterm">lp</dt>

        <dd class="dd pd">
          
          A pointer to a CPLEX problem object as returned by <code class="ph codeph"><span class="keyword apiname">CPXXcreateprob</span>/<span class="keyword apiname">CPXcreateprob</span></code>.
        </dd>

      

      
      
        <dt class="dt pt dlterm">grpcnt</dt>

        <dd class="dd pd">
          
          The number of constraint groups to be considered.
        </dd>

      

      
      
        <dt class="dt pt dlterm">concnt</dt>

        <dd class="dd pd">
          
          An integer specifying the total number of elements passed in the arrays <code class="ph codeph"><span class="keyword parmname">grpind</span></code> and <code class="ph codeph"><span class="keyword parmname">grptype</span></code>, or, equivalently, the end of the last group in <code class="ph codeph"><span class="keyword parmname">grpind</span></code>.
        </dd>

      

      
      
        <dt class="dt pt dlterm">grppref</dt>

        <dd class="dd pd">
          
          An array of preferences for the groups. The value <code class="ph codeph"><span class="keyword parmname">grppref</span>[i]</code> specifies the preference for the group designated by the index <code class="ph codeph">i</code>. A negative value specifies that the corresponding group should not be considered in the computation of a conflict. In other words, such groups are not considered part of the problem. Groups with a preference of 0 (zero) are always considered to be part of the conflict. No further checking is performed on such groups.
        </dd>

      

      
      
        <dt class="dt pt dlterm">grpbeg</dt>

        <dd class="dd pd">
          
          An array of integers specifying where the constraint indices for each group begin in the array <code class="ph codeph"><span class="keyword parmname">grpind</span></code>. Its length must be at least <code class="ph codeph"><span class="keyword parmname">grpcnt</span></code>.
        </dd>

      

      
      
        <dt class="dt pt dlterm">grpind</dt>

        <dd class="dd pd">
          
          An array of integers containing the indices for the constraints in each group. For each of the various types of constraints listed in the table, the constraint indices range from 0 (zero) to the number of constraints of that type minus one. Group <code class="ph codeph">i</code> contains the constraints with the indices <code class="ph codeph"><span class="keyword parmname">grpind</span>[<span class="keyword parmname">grpbeg</span>[i]], ..., <span class="keyword parmname">grpind</span>[<span class="keyword parmname">grpbeg</span>[i+1]-1]</code> for <code class="ph codeph">i</code> less than <code class="ph codeph"><span class="keyword parmname">grpcnt</span>-1</code>, and <code class="ph codeph"><span class="keyword parmname">grpind</span>[<span class="keyword parmname">grpbeg</span>[i]], ..., <span class="keyword parmname">grpind</span>[<span class="keyword parmname">concnt</span>-1]</code> for <code class="ph codeph">i == <span class="keyword parmname">grpcnt</span>-1</code>. Its length must be at least <code class="ph codeph"><span class="keyword parmname">concnt</span></code>. A constraint must not be referenced more than once in this array. For any constraint in the problem that is not a member of a group and thus does not appear in this array, the constraint is assigned a default preference of 0 (zero). Thus such constraints are included in the conflict without any analysis.
        </dd>

      

      
      
        <dt class="dt pt dlterm">grptype</dt>

        <dd class="dd pd">
          
          An array of characters containing the constraint types for the constraints as they appear in groups. The types of the constraints in group <code class="ph codeph">i</code> are specified in <code class="ph codeph"><span class="keyword parmname">grptype</span>[<span class="keyword parmname">grpbeg</span>[i]], ..., <span class="keyword parmname">grptype</span>[<span class="keyword parmname">grpbeg</span>[i+1]-1]</code> for <code class="ph codeph">i</code> less than <code class="ph codeph"><span class="keyword parmname">grpcnt</span>-1</code> and <code class="ph codeph"><span class="keyword parmname">grptype</span>[<span class="keyword parmname">grpbeg</span>[i]], ..., <span class="keyword parmname">grptype</span>[<span class="keyword parmname">concnt</span>-1]</code> for <code class="ph codeph">i == <span class="keyword parmname">grpcnt</span>-1</code>. Its length must be at least <code class="ph codeph"><span class="keyword parmname">concnt</span></code>, and every constraint must appear at most once in this array. Possible values appear in Table 1.
        </dd>

      

    </dl>

  </section>


    
    

    <section class="section"><h2 class="title sectiontitle">Return</h2>
      
      The routine returns 0 (zero) if successful and nonzero if an error occurs.
    </section>

    <section class="section"><h2 class="title sectiontitle">Example</h2>
      
      
<pre class="pre codeblock"><code>
status = CPXrefineconflictext (env, lp, ngrp, ngrp, pri, beg, ind, type);
</code></pre>






    </section>

  </div>

  <nav role="navigation" class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../refcallablelibrary/groups/hpAlphabetR.html">R</a></div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../refcallablelibrary/groups/homepageanalyzesolution.html">Analyzing Solutions in the CPLEX Callable Library (C API)</a></div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../refcallablelibrary/groups/homepageanalyzeinfeasibility.html">Analyzing Infeasibility in the CPLEX Callable Library (C API)</a></div>
</div>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../refcallablelibrary/cpxapi/hpRefineConflict.html">Detecting and resolving conflicts with the conflict refiner and feasopt</a></div>
</div>

<div class="linklist linklist"><strong>See also</strong><br />
<ul class="linklist">
<li class="linklist"><a class="link" href="getconflictext.html" title="For an infeasible problem, if the infeasibility has been analyzed by CPXXrefineconflictext/CPXrefineconflictext, this routine accesses information about the conflict computed by it.">CPXgetconflictext</a></li>
<li class="linklist"><a class="link" href="refineconflict.html" title="This routine is deprecated. Use CPXXrefineconflictext/CPXrefineconflictext instead.">CPXrefineconflict</a></li>
<li class="linklist"><a class="link" href="clpwrite.html" title="After CPXXrefineconflict/CPXrefineconflict or CPXXrefineconflictext/CPXrefineconflictext has been invoked on an infeasible problem to identify a minimal set of constraints that are in conflict, this routine will write an LP format file containing the identified conflict.">CPXclpwrite</a></li>
<li class="linklist"><a class="link" href="getconflictnumgroups.html" title="The routine CPXXgetconflictnumgroups/CPXgetconflictnumgroups accesses the number of constraint groups given, or automatically created, in the last call to the routine CPXXrefineconflictext/CPXrefineconflictext.">CPXgetconflictnumgroups</a></li>
<li class="linklist"><a class="link" href="getconflictgroups.html" title="The routine CPXXgetconflictgroups/CPXgetconflictgroups accesses the constraint group information given in the last call to the routine CPXXrefineconflictext/CPXrefineconflictext.">CPXgetconflictgroups</a></li>
<li class="linklist"><a class="link" href="getconflictnumpasses.html" title="The routine CPXXgetconflictnumpasses/CPXgetconflictnumpasses accesses the total number of passes needed to identify a minimal conflict in the current problem.">CPXgetconflictnumpasses</a></li></ul></div>
</nav>
</div></body>
</html>