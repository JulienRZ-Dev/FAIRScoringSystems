<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2020" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2020" />
<meta name="DC.Type" content="reference" />
<meta name="DC.Title" content="intervalVar" />
<meta name="abstract" content="Creates a new interval variable." />
<meta name="Description" content="Creates a new interval variable." />
<meta name="DC.subject" content="intervalVar" />
<meta name="keywords" content="intervalVar" />
<meta name="DC.Relation" scheme="URI" content="../../../CP_Optimizer/reffileformatcpo/functions.html" />
<meta name="DC.Relation" scheme="URI" content="../syntax/110_SchedulingTypes.html#Scheduling_types/intervalVar" />
<meta name="DC.Relation" scheme="URI" content="../../../refcppcpoptimizer/html/interval_variables.html" />
<meta name="DC.Relation" scheme="URI" content="../syntax/130_MoreTypes.html#More_types/Type_stepFunction" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="intervalVar" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../../ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../../swg_info_common_opti.css" />
<link rel="Start" href="../../../CP_Optimizer/reffileformatcpo/functions.html" />
<title>intervalVar</title>
</head>
<body id="intervalVar"><div role="main">


<h1 class="title topictitle1" id="ariaid-title1">intervalVar</h1>





<div class="body refbody"><p class="shortdesc">
Creates a new interval variable.
</p>


<section class="section">

<p class="p">
Note: this section describes the function <code class="ph codeph"><a class="xref" href="../syntax/110_SchedulingTypes.html#Scheduling_types__intervalVar">intervalVar</a></code>. There is also a type with
the same name, see <a class="xref" href="../syntax/110_SchedulingTypes.html#Scheduling_types__intervalVar">intervalVar</a>. The semantics of the interval variable is
also described elsewhere, see <a class="xref" href="../../../refcppcpoptimizer/html/interval_variables.html">Interval variables in CP Optimizer</a>.
</p>


</section>


<section class="section" id="intervalVar__Syntax"><h2 class="title sectiontitle">Syntax</h2>

<div class="imageleft"><img class="image syntaxdiagram" src="../diagrams/diagram12.png" /></div>

<p class="p">
The function <code class="ph codeph">intervalVar</code> uses named parameters syntax. All parameters are
optional and can be specified in any order. Presence status of the interval is
set using keywords <code class="ph codeph">present</code>, <code class="ph codeph">absent</code> or <code class="ph codeph">optional</code> (without specifying the
value because it is already encoded in the parameter name), the remaining
arguments are specified using <code class="ph codeph">parameter = value</code> syntax.
</p>


<p class="p">
If the allowed value for the parameter is an integer range then it can be
specified as <code class="ph codeph">min..max</code> where <code class="ph codeph">min</code> and <code class="ph codeph">max</code> are integer constants or
simply as <code class="ph codeph">v</code> if the range contains only one value <code class="ph codeph">v</code>.
</p>


<p class="p">
To simplify code generation, a trailing comma is allowed after the last
parameter.
</p>


</section>


<section class="section" id="intervalVar__Parameters"><h2 class="title sectiontitle">Parameters</h2>
<p class="p">
Parameters <code class="ph codeph">present</code>, <code class="ph codeph">absent</code> and <code class="ph codeph">optional</code> set initial presence status of
the interval variable, only one of them can be used. If the presence status is
not specified then <code class="ph codeph">present</code> is used by default.
</p>


<p class="p">
The remaining parameters all take a value:
</p>



<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" rules="all" frame="border" border="1"><colgroup></colgroup><thead class="thead" style="text-align:left;"><tr class="row" style="vertical-align:middle;">
      <th class="entry thcenter thmid" align="center" valign="middle" id="d357327e131"> Parameter     </th>

      <th class="entry thcenter thmid" align="center" valign="middle" id="d357327e134"> Type           </th>

      <th class="entry thcenter thmid" align="center" valign="middle" id="d357327e137"> Description                                                </th>

      <th class="entry thcenter thmid" align="center" valign="middle" id="d357327e140"> Maximum range               </th>

      <th class="entry thcenter thmid" align="center" valign="middle" id="d357327e143"> Default          </th>

  </tr>
</thead>
<tbody class="tbody">
    <tr class="row" style="vertical-align:middle;">
      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e131 "> <code class="ph codeph">start</code>       </td>

      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e134 "> integer range  </td>

      <td class="entry tdleft tdmid" align="left" valign="middle" headers="d357327e137 ">Allowed range for the start of the interval.                </td>

      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e140 "> <code class="ph codeph"><a class="xref" href="../syntax/040_Constants.html#Constants__intervalmin">intervalmin</a>..<a class="xref" href="../syntax/040_Constants.html#Constants__intervalmax">intervalmax</a></code>  </td>

      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e143 "> <code class="ph codeph">0..<a class="xref" href="../syntax/040_Constants.html#Constants__intervalmax">intervalmax</a></code> </td>

    </tr>

    <tr class="row" style="vertical-align:middle;">
      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e131 "> <code class="ph codeph">end</code>         </td>

      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e134 "> integer range  </td>

      <td class="entry tdleft tdmid" align="left" valign="middle" headers="d357327e137 ">Allowed range for the end the interval.                     </td>

      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e140 "> <code class="ph codeph"><a class="xref" href="../syntax/040_Constants.html#Constants__intervalmin">intervalmin</a>..<a class="xref" href="../syntax/040_Constants.html#Constants__intervalmax">intervalmax</a></code>  </td>

      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e143 "> <code class="ph codeph">0..<a class="xref" href="../syntax/040_Constants.html#Constants__intervalmax">intervalmax</a></code> </td>

    </tr>

    <tr class="row" style="vertical-align:middle;">
      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e131 "> <code class="ph codeph">length</code>      </td>

      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e134 "> integer range  </td>

      <td class="entry tdleft tdmid" align="left" valign="middle" headers="d357327e137 ">Allowed range for the length the interval.                  </td>

      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e140 "> <code class="ph codeph">0..<a class="xref" href="../syntax/040_Constants.html#Constants__intervalmax">intervalmax</a></code>            </td>

      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e143 "> <code class="ph codeph">0..<a class="xref" href="../syntax/040_Constants.html#Constants__intervalmax">intervalmax</a></code> </td>

    </tr>

    <tr class="row" style="vertical-align:middle;">
      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e131 "> <code class="ph codeph">size</code>        </td>

      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e134 "> integer range  </td>

      <td class="entry tdleft tdmid" align="left" valign="middle" headers="d357327e137 ">Allowed range for the size the interval.                    </td>

      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e140 "> <code class="ph codeph">0..<a class="xref" href="../syntax/040_Constants.html#Constants__intervalmax">intervalmax</a></code>            </td>

      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e143 "> <code class="ph codeph">0..<a class="xref" href="../syntax/040_Constants.html#Constants__intervalmax">intervalmax</a></code> </td>

    </tr>

    <tr class="row" style="vertical-align:middle;">
      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e131 "> <code class="ph codeph">intensity</code>   </td>

      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e134 "> <code class="ph codeph"><a class="xref" href="../syntax/130_MoreTypes.html#More_types__Type_stepFunction">stepFunction</a></code> </td>

      <td class="entry tdleft tdmid" align="left" valign="middle" headers="d357327e137 ">Specifies relation between size and length of the interval. </td>

      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e140 "> N/A                         </td>

      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e143 "> not used </td>

    </tr>

    <tr class="row" style="vertical-align:middle;">
      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e131 "> <code class="ph codeph">granularity</code> </td>

      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e134 "> <code class="ph codeph"><a class="xref" href="../syntax/070_Types.html#Numerical_types__uint">uint</a></code>         </td>

      <td class="entry tdleft tdmid" align="left" valign="middle" headers="d357327e137 ">Scale of the intensity function.                            </td>

      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e140 "> <code class="ph codeph">0..<a class="xref" href="../syntax/040_Constants.html#Constants__intmax">intmax</a></code>                 </td>

      <td class="entry tdcenter tdmid" align="center" valign="middle" headers="d357327e143 "> 100 </td>

    </tr>

</tbody>
</table>
</div>


<p class="p">
It is not allowed to specify any parameter twice (even with the same value).
</p>


</section>


<section class="section" id="intervalVar__Description"><h2 class="title sectiontitle">Description</h2>
<p class="p">
The function <code class="ph codeph">intervalVar</code> creates a new interval variable with the domain
according to the supplied arguments.
</p>


<p class="p">
Use interval variables to model (possibly zero-length) intervals of integers,
for example a time to perform some action. Informally saying, an interval variable
has unknown <code class="ph codeph">start</code> and <code class="ph codeph">end</code> such that <code class="ph codeph">start ≤ end</code> and non-negative
<code class="ph codeph">length = end - start</code>. Furthermore an interval variable can be <code class="ph codeph">absent</code> to
represent the fact that the action was not taken at all.
When the interval is <code class="ph codeph">present</code> then it cannot be absent (the action must be
taken). When the interval is <code class="ph codeph">optional</code> then it is up to CP Optimizer to
decide whether it will be <code class="ph codeph">present</code> or <code class="ph codeph">absent</code> in the solution (the action
may be taken).
</p>


<p class="p">
More detailed descriptions of the semantics of the interval variable including
<code class="ph codeph">intensity</code>, <code class="ph codeph">granularity</code> and <code class="ph codeph">size</code> can be found in 
<a class="xref" href="../../../refcppcpoptimizer/html/interval_variables.html">Interval variables in CP Optimizer</a>.
</p>


</section>


<section class="section" id="intervalVar__Example"><h2 class="title sectiontitle">Example</h2>
<pre class="pre codeblock"><code>
<span class="ph commentemph">// Present interval variable with length 10 that cannot end after 1000:</span>
a = <strong class="ph b">intervalVar</strong>(end=0..1000, length=10);

<span class="ph commentemph">// Longer way to express the same (domains of variables a and b are the same):</span>
b = <strong class="ph b">intervalVar</strong>(present, length=10, start=0..990, end=10..1000);

<span class="ph commentemph">// Optional action with fixed start time but unknown end time:</span>
c = <strong class="ph b">intervalVar</strong>(optional, start=112, end=0..2000);

<span class="ph commentemph">// A task that takes 6 working days, it is prolonged by weekends.</span>
<span class="ph commentemph">// Days are counted from 0.</span>
workingDays = <a class="xref" href="stepFunction.html" title="Creates a new step function (a function that remains constant within each of a series of adjacent intervals but changes in value from one interval to the next).">stepFunction</a>((<a class="xref" href="../syntax/040_Constants.html#Constants__intervalmin">intervalmin</a>, 0), (0, 100), (5, 0), (7, 100), (12, 0), (14, 100), (19, 0));
d = <strong class="ph b">intervalVar</strong>(size=6, end=0..21, intensity=workingDays);
<span class="ph commentemph">// Task d cannot start or end during a weekends:</span>
<a class="xref" href="forbidStart.html" title="Forbids an interval variable to start during specified regions.">forbidStart</a>(d, workingDays);
<a class="xref" href="forbidEnd.html" title="Forbids an interval variable to end during specified regions.">forbidEnd</a>(d, workingDays);

<span class="ph commentemph">// Absent interval variable, trailing comma.</span>
e = <strong class="ph b">intervalVar</strong>(absent,);

<span class="ph commentemph">// None of the interval variables above can overlap:</span>
<a class="xref" href="noOverlap.html" title="Constrains a set of interval variables not to overlap each others.">noOverlap</a>([a, b, c, d, e]);
</code></pre>
</section>


<section class="section" id="intervalVar__Notes"><h2 class="title sectiontitle">Notes</h2>
<ul class="ul">
  <li class="li">
    It is not mandatory to assign a name to interval variable, however it is a
    good practice.
  </li>

  <li class="li">
    It is not an error to specify <code class="ph codeph">start</code>, <code class="ph codeph">end</code> or other parameters when the interval
    var was set to <code class="ph codeph">absent</code>, it is not a good practice though. Those parameters
    are ignored in this case.
  </li>

  <li class="li">
    It is also not an error to specify the parameters in a conflicting way. E.g.
    <code class="ph codeph">start=10</code> and <code class="ph codeph">end=0</code> would make the interval end before its start. In this
    case, if the interval variable is optional then it is set to absent. If it is
    present then the whole problem is insoluble (CP Optimizer reports that there
    is no solution).
  </li>

  <li class="li">
    CP Optimizer is obliged to assign a value to every interval variable when it
    search for a solution, even if the variable is not used in any constraint or
    expression. Such variables have no purpose and slow down the search.
  </li>

  <li class="li">
    If several interval variables use the same intensity function then it is best
    to assign a name to that function and then use it repeatedly.
  </li>

</ul>


</section>


</div>


<nav role="navigation" class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../CP_Optimizer/reffileformatcpo/functions.html" title="The following functions can be used in a CP Optimizer model file (CPO file):">Functions</a></div>
</div>

<div class="linklist linklist relinfo" xml:lang="en-us"><strong>Related information</strong><br />
<ul class="linklist">
<li class="linklist"><a class="link" href="../syntax/110_SchedulingTypes.html#Scheduling_types__intervalVar">type <code class="ph codeph">intervalVar</code></a></li>
<li class="linklist"><a class="link" href="../../../refcppcpoptimizer/html/interval_variables.html">Interval variables in CP Optimizer</a></li>
<li class="linklist"><a class="link" href="../syntax/130_MoreTypes.html#More_types__Type_stepFunction">stepFunction</a></li></ul></div>
</nav>

</div></body>
</html>