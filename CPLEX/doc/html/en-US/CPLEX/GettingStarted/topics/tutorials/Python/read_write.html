<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="© Copyright IBM Corporation 2020" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2020" />
<meta name="DC.Type" content="topic" />
<meta name="DC.Title" content="Reading and writing CPLEX models to files with Python" />
<meta name="abstract" content="Read models from files and write models to files in an application using the CPLEX Python API." />
<meta name="Description" content="Read models from files and write models to files in an application using the CPLEX Python API." />
<meta name="DC.subject" content="Python API, reading files in, writing files from" />
<meta name="keywords" content="Python API, reading files in, writing files from" />
<meta name="DC.Relation" scheme="URI" content="../../../../../CPLEX/GettingStarted/topics/tutorials/Python/Python_synopsis.html" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="descriptiveTopic1235491989242" />
<meta name="DC.Language" content="en-us" />
<meta name="IBM.Country" content="ZZ" />
<!-- Licensed Materials - Property of IBM -->
<!-- US Government Users Restricted Rights -->
<!-- Use, duplication or disclosure restricted by -->
<!-- GSA ADP Schedule Contract with IBM Corp. -->
<link rel="stylesheet" type="text/css" href="../../../../../ibmdita.css" />
<link rel="stylesheet" type="text/css" href="../../../../../swg_info_common_opti.css" />
<link rel="Start" href="../../../../../CPLEX/GettingStarted/topics/tutorials/Python/Python_synopsis.html" />
<title>Reading and writing CPLEX models to files with Python</title>
</head>
<body id="descriptiveTopic1235491989242"><div role="main">

   <h1 class="title topictitle1" id="ariaid-title1">Reading and writing CPLEX models to files with Python</h1>

   
   
   <div class="body"><p class="shortdesc">Read models from files and write models to files
in an application using the CPLEX Python API.</p>

      <p class="p">In general, the methods of the class <a class="xref logicalApiLink" href="../../../../../refpythoncplex/html/cplex.Cplex-class.html">Cplex</a> query,
add, or modify data comprising an optimization problem.</p>

      <p class="p">Moreover, the class <a class="xref logicalApiLink" href="../../../../../refpythoncplex/html/cplex.Cplex-class.html">Cplex</a> provides <strong class="ph b">output streams</strong> for general log messages, results, warning
messages, and error messages. A user sets those output streams by
means of the methods <code class="ph codeph">set_log_stream</code>, <code class="ph codeph">set_results_stream</code>, <code class="ph codeph">set_warning_stream</code>,
and <code class="ph codeph">set_error_stream</code>. These methods take
either a file object or a filename as an argument; they also accept
the argument <code class="ph codeph">None</code> to disable their output. </p>

      <p class="p">These methods can also take, as an optional second argument,
a <strong class="ph b">parsing function</strong> that takes a string as input and
returns a string as output. If the user specifies a parsing function,
CPLEX uses that function to process the output to that stream. </p>

      <p class="p">By <strong class="ph b">default</strong>, the log and results streams
are set to <code class="ph codeph">sys.stdout</code> and the error and
warning streams are set to <code class="ph codeph">sys.stderr</code>.</p>

      <p class="p">The sample <code class="ph codeph">lpex1.py</code> contains
one more line that deserves explanation in the context of reading
and writing files:</p>

      <pre class="pre codeblock"><code>my_prob.write("lpex1.lp")</code></pre>
      <p class="p">That statement causes <code class="ph codeph">my_prob</code> to
write the data it has stored to the file named <code class="ph codeph">lpex1.lp</code>.
In this sample, the file is written in <strong class="ph b">LP format</strong>.
The reference manual, <a class="xref" href="../../../../homepages/reffileformatscplex.html">File formats supported by CPLEX</a>, documents
that file format with respect to CPLEX in the topic <a class="xref" href="../../../../FileFormats/topics/LP.html" title="CPLEX conforms to these rules for the LP file format.">LP file format: algebraic representation</a>.</p>

      <p class="p">Other formats supported for writing problems to a file are <strong class="ph b">MPS</strong> and <strong class="ph b">SAV</strong> (also
documented by the reference manual, <em class="ph i">File formats supported by CPLEX</em>, in the topic <a class="xref" href="../../../../FileFormats/topics/MPS_synopsis.html" title="CPLEX supports the industry standard MPS file format and offers extensions to it.">MPS file format: industry standard</a> and in <a class="xref" href="../../../../FileFormats/topics/SAV.html" title="CPLEX supports the SAV binary file format for numerical accuracy in reading and writing problems.">SAV file format: numerically accurate binary files</a>. </p>

      <p class="p">The CPLEX Python API decides which file format to write
based on the extension of the file name; you can also use an optional
format string as an additional argument to specify a file format.
 </p>

      <p class="p">The class <a class="xref logicalApiLink" href="../../../../../refpythoncplex/html/cplex.Cplex-class.html">Cplex</a> also
supports reading of files through its method <a class="xref logicalApiLink" href="../../../../../refpythoncplex/html/cplex.Cplex-class.html#read">read</a> and
through its constructor. For example, if <code class="ph codeph">cpx</code> is
an instance of the class <a class="xref logicalApiLink" href="../../../../../refpythoncplex/html/cplex.Cplex-class.html">Cplex</a>,
then a call like this:</p>

      <pre class="pre codeblock"><code>cpx.read("file.lp")</code></pre>
      <p class="p">or like this:</p>

      <pre class="pre codeblock"><code>cpx = cplex.Cplex("file.lp")</code></pre>
      <p class="p">causes the CPLEX Python API to read a problem from the
formatted file named <code class="ph codeph">file.lp</code>.</p>

      <div class="note note"><span class="notetitle">Note:</span> 
         <p class="p">The method <code class="ph codeph">read</code> replaces
all data currently stored in the object <code class="ph codeph">cpx</code>.</p>

      </div>

      <p class="p">MPS and SAV format files are also supported in a similar
way.</p>

   </div>

   <nav role="navigation" class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../../../../CPLEX/GettingStarted/topics/tutorials/Python/Python_synopsis.html" title="Use CPLEX interactively in a Python session, or write an application using the Python API for CPLEX.">Python tutorial</a></div>
</div>
</nav></div></body>
</html>